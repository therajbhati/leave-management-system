import{a as D}from"./chunk-H7D4YFAQ.js";import{a as w}from"./chunk-QIJ7EUUU.js";import"./chunk-D44SGYRL.js";import{A as a,D as m,E as u,I as p,L as s,M as e,N as t,T as g,V as y,W as i,X as d,Y as x,ca as c,da as v,fa as b,ja as f,ka as h,la as S,ma as E,ta as C}from"./chunk-EZFQJ4VP.js";function L(l,n){l&1&&(e(0,"div",21),i(1,"Loading..."),t())}function _(l,n){l&1&&(e(0,"div",21),i(1," No leave requests yet. "),e(2,"a",22),i(3,"Apply now"),t()())}function R(l,n){if(l&1&&(e(0,"tr",28)(1,"td",29),i(2),t(),e(3,"td",30),i(4),c(5,"date"),t(),e(6,"td",30),i(7),c(8,"date"),t(),e(9,"td",31)(10,"span"),i(11),t()()()),l&2){let r=n.$implicit,o=g(2);a(2),d(r.reason),a(2),d(v(5,6,r.startDate,"mediumDate")),a(3),d(v(8,9,r.endDate,"mediumDate")),a(3),y("px-2.5 py-1 rounded-full text-xs font-semibold "+o.getStatusClass(r.status)),a(),x(" ",r.status," ")}}function j(l,n){if(l&1&&(e(0,"table",23)(1,"thead",24)(2,"tr")(3,"th",25),i(4,"Reason"),t(),e(5,"th",25),i(6,"Start Date"),t(),e(7,"th",25),i(8,"End Date"),t(),e(9,"th",25),i(10,"Status"),t()()(),e(11,"tbody",26),p(12,R,12,12,"tr",27),t()()),l&2){let r=g();a(12),s("ngForOf",r.leaves.slice(0,5))}}var I=class l{constructor(n,r,o){this.authService=n;this.leaveService=r;this.cdr=o}leaves=[];isLoading=!0;get pendingCount(){return this.leaves.filter(n=>n.status==="Pending").length}get approvedCount(){return this.leaves.filter(n=>n.status==="Approved").length}get rejectedCount(){return this.leaves.filter(n=>n.status==="Rejected").length}ngOnInit(){setTimeout(()=>{this.leaveService.getMyLeaves().subscribe({next:n=>{this.leaves=n,this.isLoading=!1,this.cdr.detectChanges()},error:n=>{console.log("Error:",n),this.isLoading=!1}})})}getStatusClass(n){return{Pending:"bg-yellow-100 text-yellow-700",Approved:"bg-green-100 text-green-700",Rejected:"bg-red-100 text-red-700",Cancelled:"bg-gray-100 text-gray-600"}[n]||""}static \u0275fac=function(r){return new(r||l)(m(D),m(w),m(b))};static \u0275cmp=u({type:l,selectors:[["app-employee-dashboard"]],decls:35,vars:7,consts:[[1,"min-h-screen","bg-gray-50","p-6"],[1,"max-w-6xl","mx-auto"],[1,"mb-6"],[1,"text-2xl","font-bold","text-gray-800"],[1,"text-gray-500","text-sm","mt-1"],[1,"grid","grid-cols-1","sm:grid-cols-3","gap-4","mb-8"],[1,"bg-white","rounded-xl","shadow-sm","p-5","border-l-4","border-yellow-400"],[1,"text-sm","text-gray-500","font-medium"],[1,"text-3xl","font-bold","text-yellow-500","mt-1"],[1,"bg-white","rounded-xl","shadow-sm","p-5","border-l-4","border-green-400"],[1,"text-3xl","font-bold","text-green-500","mt-1"],[1,"bg-white","rounded-xl","shadow-sm","p-5","border-l-4","border-red-400"],[1,"text-3xl","font-bold","text-red-500","mt-1"],[1,"flex","gap-4","mb-8"],["routerLink","/employee/apply",1,"bg-blue-600","hover:bg-blue-700","text-white","text-sm","font-semibold","px-5","py-2.5","rounded-lg","transition"],["routerLink","/employee/history",1,"bg-white","hover:bg-gray-100","text-gray-700","text-sm","font-semibold","px-5","py-2.5","rounded-lg","border","transition"],[1,"bg-white","rounded-xl","shadow-sm","overflow-hidden"],[1,"px-6","py-4","border-b"],[1,"text-base","font-semibold","text-gray-700"],["class","text-center py-10 text-gray-400",4,"ngIf"],["class","w-full text-sm",4,"ngIf"],[1,"text-center","py-10","text-gray-400"],["routerLink","/employee/apply",1,"text-blue-500","hover:underline","ml-1"],[1,"w-full","text-sm"],[1,"bg-gray-50","text-gray-500","uppercase","text-xs"],[1,"px-6","py-3","text-left"],[1,"divide-y","divide-gray-100"],["class","hover:bg-gray-50 transition",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50","transition"],[1,"px-6","py-4","text-gray-700"],[1,"px-6","py-4","text-gray-500"],[1,"px-6","py-4"]],template:function(r,o){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),i(4),t(),e(5,"p",4),i(6,"Here's your leave summary"),t()(),e(7,"div",5)(8,"div",6)(9,"p",7),i(10,"Pending"),t(),e(11,"p",8),i(12),t()(),e(13,"div",9)(14,"p",7),i(15,"Approved"),t(),e(16,"p",10),i(17),t()(),e(18,"div",11)(19,"p",7),i(20,"Rejected"),t(),e(21,"p",12),i(22),t()()(),e(23,"div",13)(24,"a",14),i(25," + Apply for Leave "),t(),e(26,"a",15),i(27," View Full History "),t()(),e(28,"div",16)(29,"div",17)(30,"h2",18),i(31,"Recent Leave Requests"),t()(),p(32,L,2,0,"div",19)(33,_,4,0,"div",19)(34,j,13,1,"table",20),t()()()),r&2&&(a(4),x(" Welcome back, ",o.authService.currentUser==null?null:o.authService.currentUser.name,"! \u{1F44B} "),a(8),d(o.pendingCount),a(5),d(o.approvedCount),a(5),d(o.rejectedCount),a(10),s("ngIf",o.isLoading),a(),s("ngIf",!o.isLoading&&o.leaves.length===0),a(),s("ngIf",!o.isLoading&&o.leaves.length>0))},dependencies:[E,f,h,C,S],encapsulation:2})};export{I as EmployeeDashboardComponent};
