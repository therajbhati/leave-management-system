import{a as c}from"./chunk-H7D4YFAQ.js";import"./chunk-D44SGYRL.js";import{A as m,D as S,E as u,I as A,L as d,M as n,N as r,O as v,P as _,Q as y,R as E,S as w,T as h,W as i,X as k,Y as M,ka as D,ma as R,na as T,o as p,p as b,pa as j,q as C,qa as F,r as I,ra as U,s as N,sa as l,ta as V,ua as H,va as G}from"./chunk-EZFQJ4VP.js";var s=()=>{let e=p(c),o=p(l);return e.isLoggedIn?!0:(o.navigate(["/login"]),!1)};var L=()=>{let e=p(c),o=p(l);return e.isAdmin?!0:(o.navigate(["/employee/dashboard"]),!1)};var z=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-5VJEVIIJ.js").then(e=>e.LoginComponent)},{path:"register",loadComponent:()=>import("./chunk-VMSRCIHH.js").then(e=>e.RegisterComponent)},{path:"employee/dashboard",loadComponent:()=>import("./chunk-UQ4H6UXL.js").then(e=>e.EmployeeDashboardComponent),canActivate:[s]},{path:"employee/apply",loadComponent:()=>import("./chunk-NOZPAF26.js").then(e=>e.ApplyLeaveComponent),canActivate:[s]},{path:"employee/history",loadComponent:()=>import("./chunk-SRJ4X3DG.js").then(e=>e.LeaveHistoryComponent),canActivate:[s]},{path:"admin/dashboard",loadComponent:()=>import("./chunk-QXXJJGJB.js").then(e=>e.AdminDashboardComponent),canActivate:[s,L]},{path:"admin/leaves",loadComponent:()=>import("./chunk-N2TBVRAH.js").then(e=>e.ManageLeavesComponent),canActivate:[s,L]},{path:"**",loadComponent:()=>import("./chunk-QA7MSU7I.js").then(e=>e.NotFoundComponent)}];var B=(e,o)=>{let t=localStorage.getItem("currentUser"),a=t?JSON.parse(t).token:null;return a&&(e=e.clone({setHeaders:{Authorization:`Bearer ${a}`}})),o(e)};var O={providers:[G(z),j(F([B]))]};function $(e,o){e&1&&(_(0),n(1,"a",15),i(2,"Dashboard"),r(),n(3,"a",16),i(4,"Apply Leave"),r(),n(5,"a",17),i(6,"My Leaves"),r(),y())}function K(e,o){e&1&&(_(0),n(1,"a",18),i(2,"Dashboard"),r(),n(3,"a",19),i(4,"Manage Leaves"),r(),y())}function Q(e,o){if(e&1){let t=E();n(0,"nav",1)(1,"div",2)(2,"div",3),w("click",function(){b(t);let g=h();return C(g.goToDashboard())}),I(),n(3,"svg",4),v(4,"path",5),r(),N(),n(5,"span",6),i(6,"LeaveMS"),r()(),n(7,"div",7),A(8,$,7,0,"ng-container",8)(9,K,5,0,"ng-container",8),r(),n(10,"div",9)(11,"div",10)(12,"p",11),i(13),r(),n(14,"p",12),i(15),r()(),n(16,"div",13),i(17),r(),n(18,"button",14),w("click",function(){b(t);let g=h();return C(g.logout())}),i(19," Logout "),r()()()()}if(e&2){let t=h();m(8),d("ngIf",!t.authService.isAdmin),m(),d("ngIf",t.authService.isAdmin),m(4),k(t.authService.currentUser==null?null:t.authService.currentUser.name),m(2),k(t.authService.currentUser==null?null:t.authService.currentUser.role),m(2),M(" ",t.authService.currentUser==null||t.authService.currentUser.name==null?null:t.authService.currentUser.name.charAt(0)," ")}}var f=class e{constructor(o,t){this.authService=o;this.router=t}logout(){this.authService.logout()}goToDashboard(){this.authService.isAdmin?this.router.navigate(["/admin/dashboard"]):this.router.navigate(["/employee/dashboard"])}static \u0275fac=function(t){return new(t||e)(S(c),S(l))};static \u0275cmp=u({type:e,selectors:[["app-navbar"]],decls:1,vars:1,consts:[["class","bg-blue-700 text-white shadow-lg",4,"ngIf"],[1,"bg-blue-700","text-white","shadow-lg"],[1,"max-w-7xl","mx-auto","px-4","py-3","flex","items-center","justify-between"],[1,"flex","items-center","gap-2","cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-7","w-7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"text-xl","font-bold","tracking-wide"],[1,"flex","items-center","gap-6","text-sm","font-medium"],[4,"ngIf"],[1,"flex","items-center","gap-4"],[1,"text-right","hidden","sm:block"],[1,"text-sm","font-semibold"],[1,"text-xs","text-blue-200"],[1,"bg-white","text-blue-700","font-bold","rounded-full","h-9","w-9","flex","items-center","justify-center","text-sm","uppercase"],[1,"bg-white","text-blue-700","text-sm","font-semibold","px-3","py-1.5","rounded-lg","hover:bg-blue-100","transition",3,"click"],["routerLink","/employee/dashboard","routerLinkActive","underline",1,"hover:text-blue-200","transition"],["routerLink","/employee/apply","routerLinkActive","underline",1,"hover:text-blue-200","transition"],["routerLink","/employee/history","routerLinkActive","underline",1,"hover:text-blue-200","transition"],["routerLink","/admin/dashboard","routerLinkActive","underline",1,"hover:text-blue-200","transition"],["routerLink","/admin/leaves","routerLinkActive","underline",1,"hover:text-blue-200","transition"]],template:function(t,a){t&1&&A(0,Q,20,5,"nav",0),t&2&&d("ngIf",a.authService.isLoggedIn)},dependencies:[R,D,V,H],encapsulation:2})};var x=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(t,a){t&1&&v(0,"app-navbar")(1,"router-outlet")},dependencies:[U,f],encapsulation:2})};T(x,O).catch(e=>console.error(e));
