import{a as M,b as m,c as N,d as L,f as T,g as A,h as D,i as j,j as k,k as G,l as q,n as H}from"./chunk-FRNUN4OL.js";import{a as I}from"./chunk-D44SGYRL.js";import{A as o,D as u,E as x,I as d,L as l,M as t,N as i,O as p,S as y,T as c,W as n,Y as f,ba as g,fa as C,ia as w,ka as S,ma as _,oa as E,r as v,s as h,sa as F,ta as R}from"./chunk-EZFQJ4VP.js";var b=r=>({"border-red-400":r});function B(r,a){if(r&1&&(t(0,"div",23),n(1),i()),r&2){let s=c();o(),f(" \u2705 ",s.successMessage," ")}}function z(r,a){if(r&1&&(t(0,"div",24),n(1),i()),r&2){let s=c();o(),f(" ",s.errorMessage," ")}}function O(r,a){r&1&&(t(0,"p",25),n(1," Name is required "),i())}function J(r,a){r&1&&(t(0,"p",25),n(1," Please enter a valid email "),i())}function U(r,a){r&1&&(t(0,"p",25),n(1," Password must be at least 6 characters "),i())}function $(r,a){r&1&&(t(0,"span"),n(1,"Create Account"),i())}function K(r,a){r&1&&(t(0,"span"),n(1,"Creating..."),i())}var P=class r{constructor(a,s,e,V){this.fb=a;this.http=s;this.router=e;this.cdr=V;this.registerForm=this.fb.group({name:["",m.required],email:["",[m.required,m.email]],password:["",[m.required,m.minLength(6)]],role:["Employee",m.required]})}registerForm;isLoading=!1;successMessage="";errorMessage="";get name(){return this.registerForm.get("name")}get email(){return this.registerForm.get("email")}get password(){return this.registerForm.get("password")}get role(){return this.registerForm.get("role")}onSubmit(){this.registerForm.invalid||(this.isLoading=!0,this.errorMessage="",this.successMessage="",this.http.post(`${I.apiUrl}/auth/register`,this.registerForm.value).subscribe({next:()=>{this.isLoading=!1,this.successMessage="Account created successfully! Redirecting to login...",this.cdr.detectChanges(),setTimeout(()=>this.router.navigate(["/login"]),1500)},error:a=>{this.isLoading=!1,this.errorMessage=a.error?.message||"Registration failed. Please try again.",this.cdr.detectChanges()}}))}static \u0275fac=function(s){return new(s||r)(u(q),u(E),u(F),u(C))};static \u0275cmp=x({type:r,selectors:[["app-register"]],decls:43,vars:18,consts:[[1,"min-h-screen","bg-gradient-to-br","from-blue-600","to-blue-900","flex","items-center","justify-center","px-4"],[1,"bg-white","rounded-2xl","shadow-2xl","w-full","max-w-md","p-8"],[1,"text-center","mb-8"],[1,"bg-blue-100","w-16","h-16","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-8","w-8","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"],[1,"text-3xl","font-bold","text-gray-800"],[1,"text-gray-500","mt-1","text-sm"],["class","bg-green-50 text-green-700 text-sm px-4 py-3 rounded-lg mb-4 border border-green-200",4,"ngIf"],["class","bg-red-50 text-red-600 text-sm px-4 py-3 rounded-lg mb-4 border border-red-200",4,"ngIf"],[1,"space-y-5",3,"ngSubmit","formGroup"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","formControlName","name","placeholder","John Doe",1,"w-full","px-4","py-2.5","border","border-gray-300","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","transition",3,"ngClass"],["class","text-red-500 text-xs mt-1",4,"ngIf"],["type","email","formControlName","email","placeholder","you@example.com",1,"w-full","px-4","py-2.5","border","border-gray-300","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","transition",3,"ngClass"],["type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","px-4","py-2.5","border","border-gray-300","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","transition",3,"ngClass"],["formControlName","role",1,"w-full","px-4","py-2.5","border","border-gray-300","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","transition","bg-white"],["value","Employee"],["value","Admin"],["type","submit",1,"w-full","bg-blue-600","hover:bg-blue-700","text-white","font-semibold","py-2.5","rounded-lg","transition","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[4,"ngIf"],[1,"text-center","text-sm","text-gray-500","mt-6"],["routerLink","/login",1,"text-blue-600","hover:underline","font-medium"],[1,"bg-green-50","text-green-700","text-sm","px-4","py-3","rounded-lg","mb-4","border","border-green-200"],[1,"bg-red-50","text-red-600","text-sm","px-4","py-3","rounded-lg","mb-4","border","border-red-200"],[1,"text-red-500","text-xs","mt-1"]],template:function(s,e){s&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),v(),t(4,"svg",4),p(5,"path",5),i()(),h(),t(6,"h2",6),n(7,"Create Account"),i(),t(8,"p",7),n(9,"Register a new employee or admin"),i()(),d(10,B,2,1,"div",8)(11,z,2,1,"div",9),t(12,"form",10),y("ngSubmit",function(){return e.onSubmit()}),t(13,"div")(14,"label",11),n(15,"Full Name"),i(),p(16,"input",12),d(17,O,2,0,"p",13),i(),t(18,"div")(19,"label",11),n(20,"Email Address"),i(),p(21,"input",14),d(22,J,2,0,"p",13),i(),t(23,"div")(24,"label",11),n(25,"Password"),i(),p(26,"input",15),d(27,U,2,0,"p",13),i(),t(28,"div")(29,"label",11),n(30,"Role"),i(),t(31,"select",16)(32,"option",17),n(33,"Employee"),i(),t(34,"option",18),n(35,"Admin"),i()()(),t(36,"button",19),d(37,$,2,0,"span",20)(38,K,2,0,"span",20),i()(),t(39,"p",21),n(40," Already have an account? "),t(41,"a",22),n(42,"Sign in"),i()()()()),s&2&&(o(10),l("ngIf",e.successMessage),o(),l("ngIf",e.errorMessage),o(),l("formGroup",e.registerForm),o(4),l("ngClass",g(12,b,(e.name==null?null:e.name.invalid)&&(e.name==null?null:e.name.touched))),o(),l("ngIf",(e.name==null?null:e.name.invalid)&&(e.name==null?null:e.name.touched)),o(4),l("ngClass",g(14,b,(e.email==null?null:e.email.invalid)&&(e.email==null?null:e.email.touched))),o(),l("ngIf",(e.email==null?null:e.email.invalid)&&(e.email==null?null:e.email.touched)),o(4),l("ngClass",g(16,b,(e.password==null?null:e.password.invalid)&&(e.password==null?null:e.password.touched))),o(),l("ngIf",(e.password==null?null:e.password.invalid)&&(e.password==null?null:e.password.touched)),o(9),l("disabled",e.registerForm.invalid||e.isLoading),o(),l("ngIf",!e.isLoading),o(),l("ngIf",e.isLoading))},dependencies:[_,w,S,H,T,k,G,M,j,N,L,D,A,R],encapsulation:2})};export{P as RegisterComponent};
