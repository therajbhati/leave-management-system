import{a as I}from"./chunk-QIJ7EUUU.js";import"./chunk-D44SGYRL.js";import{A as a,D as x,E as v,I as m,L as l,M as t,N as e,P as b,Q as f,T as p,V as u,W as n,X as o,Y as h,ca as c,da as g,fa as y,ja as S,ka as E,la as _,ma as C,ta as D}from"./chunk-EZFQJ4VP.js";function L(r,d){r&1&&(t(0,"div",7),n(1,"Loading..."),e())}function A(r,d){r&1&&(t(0,"div",26),n(1," No pending leave requests \u{1F389} "),e())}function R(r,d){if(r&1&&(t(0,"tr",32)(1,"td",33)(2,"p",34),n(3),e(),t(4,"p",35),n(5),e()(),t(6,"td",36),n(7),e(),t(8,"td",37),n(9),c(10,"date"),e(),t(11,"td",37),n(12),c(13,"date"),e(),t(14,"td",33)(15,"span"),n(16),e()()()),r&2){let i=d.$implicit,s=p(3);a(3),o(i.employee.name),a(2),o(i.employee.email),a(2),o(i.reason),a(2),o(g(10,8,i.startDate,"mediumDate")),a(3),o(g(13,11,i.endDate,"mediumDate")),a(3),u("px-2.5 py-1 rounded-full text-xs font-semibold "+s.getStatusClass(i.status)),a(),h(" ",i.status," ")}}function O(r,d){if(r&1&&(t(0,"table",27)(1,"thead",28)(2,"tr")(3,"th",29),n(4,"Employee"),e(),t(5,"th",29),n(6,"Reason"),e(),t(7,"th",29),n(8,"Start Date"),e(),t(9,"th",29),n(10,"End Date"),e(),t(11,"th",29),n(12,"Status"),e()()(),t(13,"tbody",30),m(14,R,17,14,"tr",31),e()()),r&2){let i=p(2);a(14),l("ngForOf",i.stats.recentLeaves)}}function T(r,d){if(r&1&&(b(0),t(1,"div",8)(2,"div",9)(3,"p",10),n(4,"Total Employees"),e(),t(5,"p",11),n(6),e()(),t(7,"div",12)(8,"p",10),n(9,"Pending"),e(),t(10,"p",13),n(11),e()(),t(12,"div",14)(13,"p",10),n(14,"Approved"),e(),t(15,"p",15),n(16),e()(),t(17,"div",16)(18,"p",10),n(19,"Rejected"),e(),t(20,"p",17),n(21),e()()(),t(22,"div",18)(23,"a",19),n(24," Manage All Leaves "),e()(),t(25,"div",20)(26,"div",21)(27,"h2",22),n(28,"Recent Pending Requests"),e(),t(29,"a",23),n(30,"View all"),e()(),m(31,A,2,0,"div",24)(32,O,15,1,"table",25),e(),f()),r&2){let i=p();a(6),o(i.stats.totalEmployees),a(5),o(i.stats.pendingCount),a(5),o(i.stats.approvedCount),a(5),o(i.stats.rejectedCount),a(10),l("ngIf",i.stats.recentLeaves.length===0),a(),l("ngIf",i.stats.recentLeaves.length>0)}}var w=class r{constructor(d,i){this.leaveService=d;this.cdr=i}stats=null;isLoading=!0;ngOnInit(){this.leaveService.getDashboardStats().subscribe({next:d=>{this.stats=d,this.isLoading=!1,this.cdr.detectChanges()},error:()=>{this.isLoading=!1,this.cdr.detectChanges()}})}getStatusClass(d){return{Pending:"bg-yellow-100 text-yellow-700",Approved:"bg-green-100 text-green-700",Rejected:"bg-red-100 text-red-700",Cancelled:"bg-gray-100 text-gray-600"}[d]||""}static \u0275fac=function(i){return new(i||r)(x(I),x(y))};static \u0275cmp=v({type:r,selectors:[["app-admin-dashboard"]],decls:9,vars:2,consts:[[1,"min-h-screen","bg-gray-50","p-6"],[1,"max-w-6xl","mx-auto"],[1,"mb-6"],[1,"text-2xl","font-bold","text-gray-800"],[1,"text-gray-500","text-sm","mt-1"],["class","text-center py-20 text-gray-400",4,"ngIf"],[4,"ngIf"],[1,"text-center","py-20","text-gray-400"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-4","mb-8"],[1,"bg-white","rounded-xl","shadow-sm","p-5","border-l-4","border-blue-400"],[1,"text-sm","text-gray-500","font-medium"],[1,"text-3xl","font-bold","text-blue-500","mt-1"],[1,"bg-white","rounded-xl","shadow-sm","p-5","border-l-4","border-yellow-400"],[1,"text-3xl","font-bold","text-yellow-500","mt-1"],[1,"bg-white","rounded-xl","shadow-sm","p-5","border-l-4","border-green-400"],[1,"text-3xl","font-bold","text-green-500","mt-1"],[1,"bg-white","rounded-xl","shadow-sm","p-5","border-l-4","border-red-400"],[1,"text-3xl","font-bold","text-red-500","mt-1"],[1,"flex","gap-4","mb-8"],["routerLink","/admin/leaves",1,"bg-blue-600","hover:bg-blue-700","text-white","text-sm","font-semibold","px-5","py-2.5","rounded-lg","transition"],[1,"bg-white","rounded-xl","shadow-sm","overflow-hidden"],[1,"px-6","py-4","border-b","flex","items-center","justify-between"],[1,"text-base","font-semibold","text-gray-700"],["routerLink","/admin/leaves",1,"text-sm","text-blue-600","hover:underline"],["class","text-center py-10 text-gray-400",4,"ngIf"],["class","w-full text-sm",4,"ngIf"],[1,"text-center","py-10","text-gray-400"],[1,"w-full","text-sm"],[1,"bg-gray-50","text-gray-500","uppercase","text-xs"],[1,"px-6","py-3","text-left"],[1,"divide-y","divide-gray-100"],["class","hover:bg-gray-50 transition",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50","transition"],[1,"px-6","py-4"],[1,"font-medium","text-gray-700"],[1,"text-xs","text-gray-400"],[1,"px-6","py-4","text-gray-600"],[1,"px-6","py-4","text-gray-500"]],template:function(i,s){i&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),n(4,"Admin Dashboard"),e(),t(5,"p",4),n(6,"Overview of all leave requests"),e()(),m(7,L,2,0,"div",5)(8,T,33,6,"ng-container",6),e()()),i&2&&(a(7),l("ngIf",s.isLoading),a(),l("ngIf",!s.isLoading&&s.stats))},dependencies:[C,S,E,D,_],encapsulation:2})};export{w as AdminDashboardComponent};
